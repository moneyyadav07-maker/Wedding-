<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baka Weds Waifuu | The Cinematic Wedding</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Playfair+Display:wght@700&family=Poppins:wght@300;600&display=swap" rel="stylesheet">
    <style>
        :root { 
            --gold: #ffcf67; 
            --royal-bg: #2d0b16; 
            --accent: #ff4d6d;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body { 
            background: radial-gradient(circle at center, #4a0e1c 0%, #1a050a 100%);
            font-family: 'Poppins', sans-serif; 
            overflow: hidden; color: #fff;
            display: flex; justify-content: center; align-items: center; min-height: 100vh;
        }

        .scene { 
            display: none; width: 100vw; height: 100vh;
            flex-direction: column; align-items: center; justify-content: center;
            text-align: center; padding: 20px; position: absolute;
        }

        .active { display: flex; animation: fadeIn 1s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        h1 { font-family: 'Playfair Display'; font-size: 3.5rem; color: var(--gold); text-shadow: 0 0 20px rgba(255, 207, 103, 0.5); }

        /* --- THE BIG CARDS --- */
        .card-stack { position: relative; width: 340px; height: 500px; margin: 30px 0; }
        .wedding-card {
            position: absolute; width: 100%; height: 100%;
            border-radius: 20px; border: 4px solid var(--gold);
            box-shadow: 0 0 40px rgba(0,0,0,0.8);
            transition: 1s ease-in-out; cursor: pointer;
        }
        .card-exit { transform: translateX(-150%) rotate(-20deg); opacity: 0; }

        /* --- CINEMATIC VARMALA SECTION --- */
        .varmala-stage {
            width: 380px; height: 500px;
            background: url('characters.png') no-repeat center;
            background-size: contain; border-radius: 20px;
            position: relative; overflow: visible;
        }

        /* The Garlands Animation */
        .garland-anim {
            position: absolute; width: 100px; height: 100px;
            border: 6px double var(--gold); border-radius: 50%;
            top: -200px; /* Start from top */
            opacity: 0;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(2px);
            box-shadow: 0 0 15px var(--gold);
            display: flex; align-items: center; justify-content: center; font-size: 50px;
        }

        .drop-garland {
            animation: garlandDrop 1.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        @keyframes garlandDrop {
            0% { top: -200px; opacity: 0; }
            100% { top: 120px; opacity: 1; } /* Adjust 120px to fit your character's neck */
        }

        /* --- DIALOGUE BOX --- */
        .dialogue-box {
            background: rgba(45, 11, 22, 0.9);
            border: 2px solid var(--gold);
            border-radius: 15px; padding: 25px;
            width: 90%; max-width: 450px;
            margin: 20px; box-shadow: 0 0 25px rgba(255, 207, 103, 0.3);
            font-size: 1.3rem; color: #fff;
        }

        /* --- PHERAS --- */
        .mandap {
            width: 320px; height: 320px; border: 1px dashed var(--gold);
            border-radius: 50%; position: relative;
            display: flex; align-items: center; justify-content: center;
        }
        .fire { width: 100px; filter: drop-shadow(0 0 20px orange); }
        .couple-group { position: absolute; width: 120px; top: -60px; transition: 2s ease-in-out; }

        .btn-glow {
            padding: 15px 40px; background: transparent;
            border: 2px solid var(--gold); color: var(--gold);
            border-radius: 50px; font-size: 1.2rem; font-weight: bold;
            cursor: pointer; transition: 0.4s; box-shadow: 0 0 15px var(--gold);
            margin-top: 15px;
        }
        .btn-glow:hover { background: var(--gold); color: #2d0b16; }

        .petal { position: fixed; color: #ff99ac; font-size: 25px; z-index: 100; pointer-events: none; }
    </style>
</head>
<body>

    <audio id="audio" loop><source src="shehnai.mp3" type="audio/mpeg"></audio>

    <div id="s1" class="scene active">
        <h1>Baka Weds Waifuu</h1>
        <div onclick="startCeremony()" style="font-size: 120px; cursor: pointer; filter: drop-shadow(0 0 30px var(--gold));">üíé</div>
        <p style="color: var(--gold); font-weight: bold;">TAP TO WITNESS THE MAGIC</p>
    </div>

    <div id="s2" class="scene">
        <div class="card-stack">
            <img src="1000009963.png" id="card1" class="wedding-card" onclick="flip()" style="z-index: 5;">
            <img src="1000009964.png" id="card2" class="wedding-card" style="z-index: 4;">
        </div>
        <div id="invite-next" style="display:none;">
            <button class="btn-glow" onclick="goVarmala()">Proceed to Ceremony üå∏</button>
        </div>
    </div>

    <div id="s3" class="scene">
        <h1>Varmala Ceremony</h1>
        <div class="varmala-stage">
            <div id="g1" class="garland-anim" style="left: 60px;">üå∏</div>
            <div id="g2" class="garland-anim" style="right: 60px;">üå∏</div>
        </div>
        <div id="v-dialogue" class="dialogue-box" style="display:none; opacity: 0; transition: 1s;"></div>
        <button id="p-btn" class="btn-glow" style="display:none;" onclick="goPheras()">Next: 7 Pheras üî•</button>
    </div>

    <div id="s4" class="scene">
        <h1>The Saptpadi</h1>
        <div class="mandap">
            <img src="https://cdn-icons-png.flaticon.com/512/785/785116.png" class="fire">
            <div id="couple" class="couple-group"><img src="characters.png" style="width: 120px;"></div>
        </div>
        <div id="vow-text" class="dialogue-box">Wait for the divine vows...</div>
        <button id="vow-btn" class="btn-glow" onclick="nextPhera()">Take Phera 1</button>
    </div>

    <script>
        const audio = document.getElementById('audio');
        let count = 0;
        const vows = [
            "1. Ham dono hamesha ek doosre ko pareshaan karenge! üòÅ",
            "2. Tu aise hi mujhe maarte rehna, main seh lunga ü•π",
            "3. Ab toh main teko hamesha kissii kar sakunga! ‚ù§Ô∏è",
            "4. Saari jindagi ek hi bed pe soyenge chipak ke ü´†",
            "5. Khoob ghoomi-ghoomi karenge duniya bhar! üò§üíì",
            "6. Saath mein games khelenge aur har match jeetenge üòÅ",
            "7. Har life mein tum hi meri partner banogi! ü•πüíç"
        ];

        function startCeremony() { audio.play(); show('s2'); }
        function show(id) { 
            document.querySelectorAll('.scene').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active'); 
        }

        function flip() {
            document.getElementById('card1').classList.add('card-exit');
            setTimeout(() => { document.getElementById('invite-next').style.display = 'block'; }, 800);
        }

        function goVarmala() { 
            show('s3'); 
            setInterval(rain, 300); // Flower shower starts
            
            // Trigger Varmala Drop
            setTimeout(() => {
                document.getElementById('g1').classList.add('drop-garland');
                document.getElementById('g2').classList.add('drop-garland');
            }, 1000);

            // Trigger Dialogues
            setTimeout(() => {
                const d = document.getElementById('v-dialogue');
                d.style.display = 'block';
                d.style.opacity = '1';
                d.innerHTML = "<b>Baka:</b> Arreee ab kya saari umar iske saath katne padege? üò∞";
                
                setTimeout(() => {
                    d.innerHTML = "<b>Waifu:</b> Tere andar himmat hai mujhse door jaane ki? Chup-chaap mera banja ab! üò§üíñ";
                    document.getElementById('p-btn').style.display = 'block';
                }, 3000);
            }, 2500);
        }

        function rain() {
            const p = document.createElement('div'); p.className='petal';
            p.innerHTML = 'üå∏'; p.style.left = Math.random()*100+'vw';
            p.style.top = '-50px'; p.style.transition = '4s linear';
            document.body.appendChild(p);
            setTimeout(() => { p.style.top = '100vh'; p.style.transform = 'rotate(360deg)'; }, 10);
            setTimeout(() => p.remove(), 4000);
        }

        function goPheras() { show('s4'); }

        function nextPhera() {
            if(count < 7) {
                const angle = (count + 1) * 51;
                document.getElementById('couple').style.transformOrigin = "50% 220px";
                document.getElementById('couple').style.transform = `rotate(${angle}deg)`;
                document.getElementById('vow-text').innerHTML = vows[count];
                count++;
                document.getElementById('vow-btn').innerHTML = count < 7 ? `Take Phera ${count+1}` : "Always Yours! ‚ù§Ô∏èüíç";
            } else {
                document.getElementById('vow-text').innerHTML = "<h1>Marriage Completed! ‚ù§Ô∏è</h1>Hamesha ke liye ab hum ek hain! ü•∞";
                document.getElementById('vow-btn').style.display = 'none';
            }
        }
    </script>
</body>
</html>
